<!DOCTYPE html>
<html>
    <head>
        <title>SoxMosh webapp</title>
    </head>
    <body>
        <h1>Soxmosh webapp</h1>
        <p>
            A small web utility for manipulating images by applying audio effects to them using the (py)SoX library.<br><br>
            For a full description of the tool and how it works see the main <a href="http://theofficeofunspecifiedservices.com/software/SoxMosh/index.html">SoxMosh</a> page
        </p>

        <h2>Input Image</h2>
        <img src="{{input_path}}" width="500px">

        <form id="upload_form" enctype="multipart/form-data" action="upload" method="post">
            <p>
                {{ upload_form.hidden_tag() }}
                {{ upload_form.image }}
            </p>
                {{ upload_form.submit() }}
        </form>

        <form id="mosh_form" action="mosh_image" method="post">
            <p>
                {{ mosh_form.effects.label }}<br>
                {{ mosh_form.effects(rows=8, cols=50) }}
            </p>
            <p>
                {{ mosh_form.rendergif.label }}
                {{ mosh_form.rendergif }}
            </p>
            <p>For a full list of the available effects please see the <a href="https://pysox.readthedocs.io/en/latest/api.html#">pysox documentation</a></p>
            <p>{{ mosh_form.submit() }}</p>
        </form>

        {% if output_path %}
            <h2>Output Image</h2>
            <img src="{{output_path}}" width="500px">
        {% endif %}
    </body>
</html>